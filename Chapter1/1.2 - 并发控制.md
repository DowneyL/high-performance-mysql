### 并发控制

- 在处理并发读或者写时，可以通过实现一个锁系统来解决，这个锁系统由两种类型的锁组成

  - 共享锁（share lock）也叫读锁（read lock）

    读锁是共享的，或者说是互相不阻塞的。多个客户在同一时刻可以同时读取同一个资源而互不干扰。

  - 排他锁（exclusive lock）也叫写锁（write lock）

    写锁是排他的，一个写锁会阻塞其他的读锁或者写锁

- 在锁的开销和数据的安全性之间需要寻求一个平衡，设定合理的锁策略，每种 MySQL 存储引擎都可以实现自己的锁策略和锁粒度。

  - 锁策略

    - 表锁（table lock）

      - MySQL 中最基本的锁策略，开销最小。

      - 写锁会阻塞所有其他读写操作，没有写锁时，读锁之间互不阻塞

    - 行级锁（row lock）

      - 行级锁可以最大程度地支持并发处理，开销最大

      - 在 InnoDB 和 XtraDB，以及其他一些存储引擎中实现了行级锁
      - 行级锁只在存储引擎层实现，而 MySQL 服务层是没有实现的，服务层完全不了解存储引擎中的锁实现
      - 所有的存储引擎都以自己的方式显现了锁机制

